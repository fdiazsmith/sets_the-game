<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>src/scripts/main.js - future_cone</title>
    <link rel="stylesheet" href="http://yui.yahooapis.com/3.9.1/build/cssgrids/cssgrids-min.css">
    <link rel="stylesheet" href="../assets/vendor/prettify/prettify-min.css">
    <link rel="stylesheet" href="../assets/css/main.css" id="site_styles">
    <link rel="shortcut icon" type="image/png" href="../assets/favicon.png">
    <script src="http://yui.yahooapis.com/combo?3.9.1/build/yui/yui-min.js"></script>
</head>
<body class="yui3-skin-sam">

<div id="doc">
    <div id="hd" class="yui3-g header">
        <div class="yui3-u-3-4">
            
                <h1><img src="../assets/css/logo.png" title="future_cone"></h1>
            
        </div>
        <div class="yui3-u-1-4 version">
            <em>API Docs for: 0.0.1</em>
        </div>
    </div>
    <div id="bd" class="yui3-g">

        <div class="yui3-u-1-4">
            <div id="docs-sidebar" class="sidebar apidocs">
                <div id="api-list">
    <h2 class="off-left">APIs</h2>
    <div id="api-tabview" class="tabview">
        <ul class="tabs">
            <li><a href="#api-classes">Classes</a></li>
            <li><a href="#api-modules">Modules</a></li>
        </ul>

        <div id="api-tabview-filter">
            <input type="search" id="api-filter" placeholder="Type to filter APIs">
        </div>

        <div id="api-tabview-panel">
            <ul id="api-classes" class="apis classes">
            
                <li><a href="../classes/Possibility.html">Possibility</a></li>
            
                <li><a href="../classes/Story.html">Story</a></li>
            
                <li><a href="../classes/Theme.html">Theme</a></li>
            
            </ul>

            <ul id="api-modules" class="apis modules">
            
            </ul>
        </div>
    </div>
</div>

            </div>
        </div>
        <div class="yui3-u-3-4">
                <div id="api-options">
        Show:
        <label for="api-show-inherited">
            <input type="checkbox" id="api-show-inherited" checked>
            Inherited
        </label>

        <label for="api-show-protected">
            <input type="checkbox" id="api-show-protected">
            Protected
        </label>

        <label for="api-show-private">
            <input type="checkbox" id="api-show-private">
            Private
        </label>
        <label for="api-show-deprecated">
            <input type="checkbox" id="api-show-deprecated">
            Deprecated
        </label>

    </div>


            <div class="apidocs">
                <div id="docs-main">
                    <div class="content">
                        <h1 class="file-heading">File: src/scripts/main.js</h1>

<div class="file">
    <pre class="code prettyprint linenums">
/**
	* This is where code specific for this project lives.
	* for setup and general things checkout core_setup.js
	*
	* TODO:
	* -[x] On mouser hover show, cone name sprite.
	* -[ ] Create a Theme Class e.i. the cones, and it axis of tension, Stories and Possibilities live inside a theme. 
	* -[ ] Create multy views.
	* -[ ] Multy scenes? to have the ability to display orthographics and perspective in different arrangements.
	* -[ ] Try Orbit control instead of TrackballControll.
	* -[ ] An animation loop based on an array.
	* -[ ] Look at http://threejs.org/examples/#css3d_periodictable for the transform function to see how to animate the Possibilities
	*/

// var all_Possibilities = []
// 	, all_Stories = []
// 	;
	//These Two should really be part of the class Theme and not be part of basic setup.
	all_Possibilities = [];
	all_Stories = [];
//dat gui controlls
var gui_input =  new function() {
	 this.rotationSpeed = 0.02;
	 this.bouncingSpeed = 0.03;
	 this.view = [];
	 this.addPossibility = function(){
	 	createFutureScenario();
	 };
	 this.start_end_story = function(){
	 		makingStory = !makingStory;
			newStory(makingStory)
	 };
	 this.realignToTop = function(which){
	 	all_Stories[which || 0].realignToTop();
	 }
	 this.resetPosition = function(whichA){
	 	all_Stories[which || 0].resetPosition();
	 }
	 this.story = 0;
	 this.camera_x = 0;
	 this.camera_y = 0;
	 this.camera_z = 0;
	 this._color = &quot;#DE3926&quot;;
 }
var camera_settings = new function(){
 	this.viewType = [&#x27;PerspectiveCamera&#x27;];
 	this.views = [&#x27;front&#x27;];
 	this.lens = [50];
 	this.fov = [70];
 	this.zoom = 1;
}
changeView = {}
changeView = {
	zoom : function(zoom){
		console.log(zoom);	
		camera.setZoom(zoom);
	},
	fov : function(fov){
		camera.setFov( fov );
	},
	lens : function(lens){
		camera.setLens( lens );
	},
	views : function(e){
		
		switch(e){
			case &quot;top&quot;:
				console.log(e);
				// camera.toTopView();
				// camera.rotation._x =
				// camera.rotation._y = 0;
				// camera.rotation._z = 0;
				xAxis = new THREE.Vector3( -1, 0, 0 );

yAxis = new THREE.Vector3( 0, -1, 0 );

zAxis = new THREE.Vector3( 0, 0, 1 );
				rot = new THREE.Euler();
				rot.setFromVector3( xAxis )
				camera.setRotationFromEuler(rot )
				// camera.rotationAutoUpdate = false;
				// lookAtScene=false;
			break;
			case &quot;left&quot;:
				console.log(e);
				camera.toLeftView();

			break;
			case &quot;front&quot;:
				camera.toFrontView();
			break;
			default:
			break;
		}
	},
	viewType : function(e){
		console.log(e);
		if(e === &quot;PerspectiveCamera&quot;)
			camera.toPerspective();
		else
			camera.toOrthographic();
	},
}


// var gui_input = new GUI_INPUT();
var gui = new dat.GUI();
var f_camera = gui.addFolder(&quot;Camera&quot;);
		f_camera.add(camera_settings, &#x27;viewType&#x27;, [ &#x27;PerspectiveCamera&#x27;, &#x27;OrthographicCamera&#x27; ] ).onChange(changeView.viewType);
		f_camera.add(camera_settings, &#x27;views&#x27;, [ &#x27;left&#x27;, &#x27;top&#x27;, &#x27;front&#x27; ] ).onChange(changeView.views);
		f_camera.add(camera_settings, &#x27;lens&#x27;,  [12,16,24,35,50,60,85,105] ).onChange(changeView.lens);
		f_camera.add(camera_settings, &#x27;fov&#x27;, [30,50,70,100] ).onChange(changeView.fov);
		f_camera.add(camera_settings, &#x27;zoom&#x27;, 0,2).onChange(changeView.zoom );
var f_possibilities = gui.addFolder(&quot;Add possibility or Story &quot;);
		f_possibilities.add(gui_input, &quot;addPossibility&quot;);
		f_possibilities.add(gui_input, &quot;start_end_story&quot;);
		f_possibilities.add(gui_input, &quot;story&quot;, 0 , 10);
		f_possibilities.add(gui_input, &quot;realignToTop&quot;);
		f_possibilities.add(gui_input, &quot;resetPosition&quot;);
gui.add(gui_input, &#x27;bouncingSpeed&#x27;, -5, 5);
gui.addColor(gui_input, &#x27;_color&#x27;);





function init_app (argument) {
	console.log(&quot;initializing app&quot;);
	
	setContextObjects();
	setDummyPossibilities();
	
	registerEventListeners();

}

function setContextObjects(){
	//geometry - cone
	cone = new THREE.Object3D();

	coneLength = 200 ;
	coneRadious_possible = 50;
	// var geometry = new THREE.CylinderGeometry( coneRadious_possible, 0, coneLength, 35, true );
	// var material = new THREE.MeshBasicMaterial({
	// 	transparent: true,
	// 	opacity: 0.08,
	// 	color: 0x2194ce,
	// 	depthTest: true,
	// 	visible: true,
	// 	depthWrite: false,
	// 	fog: true,
	// 	side :THREE.DoubleSide ,
	// 	combine: THREE.MixOperation, 
	// 	reflectivity: 0.2 
	// 	});//THREE.MeshBasicMaterial( { color: LIGHT_GRAY, transparent: true, opacity: 0.15 ,  shading: THREE.SmoothShading } );// THREE.MeshPhongMaterial( { color: 0x333333, transparent: true, opacity: 0.95 } );
	// // material.;
	// cylinder_possible = new THREE.Mesh( geometry, material );
	// cylinder_possible.name = &quot;possible&quot;;

	// var coneRadious_plausible = 25;
	// var geometry = new THREE.CylinderGeometry( coneRadious_plausible, 0, coneLength, 35, true );		
	// cylinder_plausible = new THREE.Mesh( geometry, material );
	// cylinder_plausible.name = &quot;plausible&quot;;

	// var coneRadious_probable = 8  ;
	// var geometry = new THREE.CylinderGeometry( coneRadious_probable, 0, coneLength, 35, true );		
	// cylinder_probable = new THREE.Mesh( geometry, material );
	// cylinder_probable.name = &quot;probable&quot;;		

	// console.log(&quot;geo length &quot;, geometry);

	// cone.add( cylinder_probable );
	// cone.add( cylinder_plausible );
	// cone.add( cylinder_possible );
	// cone.rotateZ( Math.PI / 2 + Math.PI);
	// cone.position.set( (coneLength/2), 0, 0);
	// scene.add( cone );

	// // bio_silicone = new Theme(&quot;test theme&quot;, 100, 80);
	// // bio_silicone = new Theme(&quot;test two&quot;, 50, 120);


	// // makeTextSpritez for cones
	// 	var cones_sprite = {};
	// for (var i = 0; i &lt; cone.children.length; i++) {
	// 	// cones_sprite[cone.children[i].name] = 22;
	// 	cones_sprite[cone.children[i].name] = new TextSprite(cone.children[i].name, {
	// 		fontsize : 30,
	// 		textColor: 0xffffff,
	// 		position: [coneLength, -(cone.children[i].geometry.parameters.radiusTop), -10]
	// 		});
	// 	cones_sprite[cone.children[i].name].sprite.visible = false;
	// 	scene.add(cones_sprite[cone.children[i].name].sprite);
	// 	// console.log(cone.children[i].name, cone.children[i].geometry.parameters.radiusTop);

	// 	domEvents.addEventListener(cone.children[i], &#x27;mouseover&#x27;, function(event){
	// 		// console.log(event.target.name, event);
	// 		// today_date.sprite.visible
	// 		cones_sprite[event.target.name].sprite.visible = true;
	// 	});
	// 	domEvents.addEventListener(cone.children[i], &#x27;mouseout&#x27;, function(event){
	// 		// console.log(event.target.name);
	// 		// today_date.sprite.visible
	// 		cones_sprite[event.target.name].sprite.visible = false;
	// 	});
	// };


	// // geometry - lines 
	// var material = new THREE.LineBasicMaterial({color: 0xffffff});
	// var geometry = new THREE.Geometry();
	//     geometry.vertices.push(new THREE.Vector3(coneLength, coneRadious_possible, 0));
	//     geometry.vertices.push(new THREE.Vector3(coneLength, -coneRadious_possible, 0));
	// line_vertical = new THREE.Line(geometry, material);

	// var geometry = new THREE.Geometry();
	// geometry.vertices.push(new THREE.Vector3(coneLength, 0, coneRadious_possible));
	// geometry.vertices.push(new THREE.Vector3(coneLength, 0, -coneRadious_possible));
	// line_horizontal = new THREE.Line(geometry, material);

	// var geometry = new THREE.Geometry();
	// geometry.vertices.push(new THREE.Vector3(0, -coneRadious_possible, 0));
	// geometry.vertices.push(new THREE.Vector3(coneLength, -coneRadious_possible, 0));
	// line_bottom = new THREE.Line(geometry, material);

	// var geometry = new THREE.Geometry();
	// geometry.vertices.push(new THREE.Vector3(0, 0, 0));
	// geometry.vertices.push(new THREE.Vector3(0, -coneRadious_possible, 0));
	// line_back = new THREE.Line(geometry, material);

	// scene.add(line_back);
	// scene.add(line_vertical);
	// scene.add(line_horizontal);
	// scene.add(line_bottom);


	
	// createFutureScenario({
	// 		color: 0xDE3926,
	// 		name: &quot;today&quot;,
	// 		description: &quot;The future starts now&quot;,
	// 		year: 0,
	// 		shape: &quot;tetrahedronGeometry&quot; //sphereGeometry
	// 	})
	bio_silicone = new Theme();

}

function setDummyPossibilities(){
	posibility_one = new Possibility( [30,10,90], [2, 5, 10], NEON_GREEN );
	posibility_two = new Possibility( [50,10,190], [2, 5, 10], BLUE );
	posibility_y = new Possibility( [50,0,-10], [3, 5, 10], 0xE29238 );
	//domevents
	domEvents   = new THREEx.DomEvents(camera, renderer.domElement)

	//hard coded 
	domEvents.addEventListener(posibility_two.mesh, &#x27;click&#x27;, function(event){
		posibility_two.showContent(event);
	});
	domEvents.addEventListener(posibility_one.mesh, &#x27;click&#x27;, function(event){
		posibility_one.showContent(event);
	});

	//create dummy content future possibilities 
	future_poss = Array(16);
	var CONE_ANGLE = Math.atan(coneRadious_possible/coneLength);
	for (var i = future_poss.length - 1; i &gt;= 0; i--) {
		var _x = getRandomArbitrary(0,200)
			, _y = (getRandomArbitrary(0,_x*Math.sin(CONE_ANGLE)))*Math.sin(i)
			, _z = (getRandomArbitrary(0,_x*Math.sin(CONE_ANGLE)))*Math.sin(i)
			;
		// console.log(&quot;angel&quot;, getRandomArbitrary(0,_x*Math.sin(CONE_ANGLE))*10 ,&quot;_x&quot;, _x, &quot;cos &quot;,_y , &quot;sin &quot;,_z  )
		future_poss[i] = new createFutureScenario(future_poss[i], [_x,_y,_z], [1, 5, 10], 0xffff33);
	};


}





/**
	* 	Custum event listeners
	*/
function registerEventListeners(){
	$(window).on(&#x27;click&#x27;, function(event){
	// console.log(&#x27;clicked on window and WorldCoord are &#x27;, cickToWorldCoord().x, cickToWorldCoord().y);

	});
	
	$(window).keydown( function(e){
		// console.log(&quot;just pressed a key on the window&quot;, e);
		switch(e.which){
			case 38:
				// console.log(&#x27;UP&#x27;);
				// posibility_two = new Possibility(  [10+( 10*(Math.cos(steps))),20 +( 10*Math.abs(Math.sin(steps))),9], [4.5, 20, 20], 0xdd77ff );
			break;
			default:
			break;
		}
			camera.lookAt(scene.position);
	});
}


    </pre>
</div>

                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<script src="../assets/vendor/prettify/prettify-min.js"></script>
<script>prettyPrint();</script>
<script src="../assets/js/yui-prettify.js"></script>
<script src="../assets/../api.js"></script>
<script src="../assets/js/api-filter.js"></script>
<script src="../assets/js/api-list.js"></script>
<script src="../assets/js/api-search.js"></script>
<script src="../assets/js/apidocs.js"></script>
</body>
</html>
