<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>src/scripts/Possibility.js - future_cone</title>
    <link rel="stylesheet" href="http://yui.yahooapis.com/3.9.1/build/cssgrids/cssgrids-min.css">
    <link rel="stylesheet" href="../assets/vendor/prettify/prettify-min.css">
    <link rel="stylesheet" href="../assets/css/main.css" id="site_styles">
    <link rel="shortcut icon" type="image/png" href="../assets/favicon.png">
    <script src="http://yui.yahooapis.com/combo?3.9.1/build/yui/yui-min.js"></script>
</head>
<body class="yui3-skin-sam">

<div id="doc">
    <div id="hd" class="yui3-g header">
        <div class="yui3-u-3-4">
            
                <h1><img src="../assets/css/logo.png" title="future_cone"></h1>
            
        </div>
        <div class="yui3-u-1-4 version">
            <em>API Docs for: 0.0.1</em>
        </div>
    </div>
    <div id="bd" class="yui3-g">

        <div class="yui3-u-1-4">
            <div id="docs-sidebar" class="sidebar apidocs">
                <div id="api-list">
    <h2 class="off-left">APIs</h2>
    <div id="api-tabview" class="tabview">
        <ul class="tabs">
            <li><a href="#api-classes">Classes</a></li>
            <li><a href="#api-modules">Modules</a></li>
        </ul>

        <div id="api-tabview-filter">
            <input type="search" id="api-filter" placeholder="Type to filter APIs">
        </div>

        <div id="api-tabview-panel">
            <ul id="api-classes" class="apis classes">
            
                <li><a href="../classes/Possibility.html">Possibility</a></li>
            
                <li><a href="../classes/Story.html">Story</a></li>
            
                <li><a href="../classes/Theme.html">Theme</a></li>
            
            </ul>

            <ul id="api-modules" class="apis modules">
            
            </ul>
        </div>
    </div>
</div>

            </div>
        </div>
        <div class="yui3-u-3-4">
                <div id="api-options">
        Show:
        <label for="api-show-inherited">
            <input type="checkbox" id="api-show-inherited" checked>
            Inherited
        </label>

        <label for="api-show-protected">
            <input type="checkbox" id="api-show-protected">
            Protected
        </label>

        <label for="api-show-private">
            <input type="checkbox" id="api-show-private">
            Private
        </label>
        <label for="api-show-deprecated">
            <input type="checkbox" id="api-show-deprecated">
            Deprecated
        </label>

    </div>


            <div class="apidocs">
                <div id="docs-main">
                    <div class="content">
                        <h1 class="file-heading">File: src/scripts/Possibility.js</h1>

<div class="file">
    <pre class="code prettyprint linenums">
/**
	* Possibility 
	* 
	* A Possibility represents a possible future event
	*
	* TODO:
	* -[ ] Add a special type of Geometry for Today Possibility?
	*  
	*/


/**	
	* Use a constructor function to create the Possibility Class
	* (it creates and empty object and populates it)
	*
	* @class Possibility
	* @constructor
	*/
var Possibility = function(){
	//adding properties for the Possibility Object
	//flag that will eventrually control the visibility of the possibility.
	self = this;
		//private usage of position
	self._position = {};
	self.size = {};

	self.geometry =	self.sphereGeometry;//new THREE.SphereGeometry( self.size.radius, self.size.widthSegments, self.size.heightSegments);
	/**
		* This is the equivalent of having multiple contructor 
		* functions based on the number of arguments
		*/
	switch(arguments.length){
				case 0 :
            madeByUser();
            break;
        case 1 :
        		madeWithObject(arguments[0])
            break;
        default:
        		madeByComputer(arguments[0],arguments[1],arguments[2]);
        		break;
	}

	/**	Constructor function 
		* - A generic basic way to create events and populate them. 
		*
		* @param _position - [x,y,z] array of x, y, z OR x, y, z constructed as an object.
		* @param size - [r,w,h] array of r, w, h, OR object
		* @param color 		- 0x7777ff color in hexadecimal notation
		*/
	function madeByComputer(pos, size, color){

		self.active = true;
		self.color = color;
		
		self.size = {};
		self.size.radius  = 10;
		self.size.widthSegments = 10;
		self.size.heightSegments  = 10;

		
		if(pos.__proto__.pop !== undefined){
			self._position.x = pos[0];
			self._position.y = pos[1];
			self._position.z = pos[2];
		}else{
			self._position = pos;
		}
		
		if(size.__proto__.pop !== undefined){
			self.size.radius  = size[0];
			self.size.widthSegments = size[1];
			self.size.heightSegments  = size[2];
		}
		else {
			self.size = size;
		}

	}
	function madeByUser(){}

	/**	Constructor function 
		* - This what the user call to create a new possibility 
		* 
		* @param parameters - [x,y,z] array of x, y, z OR x, y, z constructed as an object.
		*/
	function madeWithObject(parameters){
		/**
			* An object can be used for constructor
			* 
			* @property parameters
			* @type {Object}
			* @param {Object} [active] 
			* @param {Object} [color] 
			* @param {Object} [size] size of the circle
			* @param {Object} [name] name of this Possibility
			* @param {Object} [description] description for the Possibility
			* @param {Object} [position] Position
			* @param {Object} [geometry] 
			*/
		console.log(&quot;Using parameters&quot;);
		self.active = (parameters.hasOwnProperty(&quot;active&quot;))? parameters[&quot;active&quot;] : true;
		self.color = (parameters.hasOwnProperty(&quot;color&quot;))? parameters[&quot;color&quot;] : 0xEEEEEE;
		self.size.radius  = (parameters.hasOwnProperty(&quot;radius&quot;))? parameters[&quot;radius&quot;] : 10;
		self.size.widthSegments = (parameters.hasOwnProperty(&quot;widthSegments&quot;))? parameters[&quot;widthSegments&quot;] : 10;
		self.size.heightSegments  = (parameters.hasOwnProperty(&quot;heightSegments&quot;))? parameters[&quot;heightSegments&quot;] : 10;
		
		self.name = (parameters.hasOwnProperty(&quot;name&quot;))? parameters[&quot;name&quot;] : &quot;name less event&quot;;
		self.description = (parameters.hasOwnProperty(&quot;description&quot;))? parameters[&quot;description&quot;] : &quot;&quot;;

		self.geometry = (parameters.hasOwnProperty(&quot;shape&quot;))? self[parameters.shape]: self.sphereGeometry ;
		self._position.x = (parameters.hasOwnProperty(&quot;year&quot;))? parameters[&quot;year&quot;] : 10;
		self._position.y = (parameters.hasOwnProperty(&quot;posY&quot;))? parameters[&quot;posY&quot;]: (getRandomArbitrary(0,self._position.x*Math.sin(Math.random())));
		self._position.z = (parameters.hasOwnProperty(&quot;posZ&quot;))? parameters[&quot;posZ&quot;]: (getRandomArbitrary(0,self._position.x*Math.sin(Math.random())));

		self.year = Math.round(((self._position.x * (2065-2015) ) / 200 ))+2015 ; //(parameters.hasOwnProperty(&quot;year&quot;))? parameters[&quot;year&quot;] : 10;

	}
	

	self.material = new THREE.MeshBasicMaterial({
		transparent: false,
		// opacity: 0.25,
		// side :THREE.DoubleSide ,
		// combine: THREE.MixOperation,
		// reflectivity: 0.2 
		color: self.color
	});
	self.mesh = new THREE.Mesh( self.geometry, self.material );
	self.mesh.position.x = self._position.x;
	self.mesh.position.y = self._position.y;
	self.mesh.position.z = self._position.z;
	self.mesh.castShadow = true;
	self._ID = self.mesh.id;
	self.position = self.mesh.position;

	
	scene.add( self.mesh );
};


/**	
	* second constructor
	*
	* @class Possibility
	* @constructor
	*/
Possibility.prototype.constructor = Possibility;

Possibility.prototype.getInput = function(name, date){
	console.log(&quot;getInput &quot;,name, date);
}
// basicGeometry = 
Possibility.prototype.sphereGeometry =	new THREE.SphereGeometry( 1.5, 10,10);
Possibility.prototype.dodecahedronGeometry =	new THREE.DodecahedronGeometry(2);
Possibility.prototype.icosahadronGeometry =	new THREE.IcosahedronGeometry( 2);
Possibility.prototype.octahedronGeometry =	new THREE.OctahedronGeometry( 2);
Possibility.prototype.tetrahedronGeometry =	new THREE.TetrahedronGeometry( 2);
/**
	* Creates a unique alpha numeric ID for each Possibility
	*
	* @method makeID
	* @return {text} Retruns the Unique ID
	*/
Possibility.prototype.makeID = function(){
  var text = &quot;&quot;;
  var possible = &quot;ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789&quot;;
  for( var i=0; i &lt; 5; i++ )
      text += possible.charAt(Math.floor(Math.random() * possible.length));
  return text;
}
/**
	* Calculates the screen CSS position of the Possibility Mesh
	*
	* @method getCssPosition
	* @return {THREE.Vector3} Vector 3 with the x, y, z
	*/
Possibility.prototype.getCssPosition = function(e){
		return THREEx.ObjCoord.cssPosition(this.mesh, camera,renderer);
}
/**
	* Updates the position of the mesh
	*
	* @method updatePos
	*/
Possibility.prototype.updatePos = function(which, _position){
		this.mesh.position[which] = _position;
}	
/**
	* Calculates world position of the Possibility Mesh
	*
	* @method getWorldPosition
	* @return {THREE.Vector3} Vector 3 with the x, y, z
	*/
Possibility.prototype.getWorldPosition  = function(e){
		return THREEx.ObjCoord.worldPosition(this.mesh);
}
/**
	* Displays HUD, usign CSS and HTML of the Content of the Possibility
	*
	* @method showContent
	* @param  {THREEx.DocumentEvent} the event form dom Event THREEx
	* @return {this} The instance of the Possibility being called
	*/
Possibility.prototype.showContent = function(e){
		if($(&#x27;body&#x27;).find(&quot;#info-card&quot;).length === 0){
			// console.log(&quot;dfsa&quot;, $(&#x27;body&#x27;).find(&quot;#info-card&quot;));
						$(&quot;&lt;div&gt;&lt;/div&gt;&quot;,{
				&quot;id&quot;: &quot;info-card&quot;
			}).appendTo(&quot;body&quot;);
		}
		
		$(&quot;#info-card&quot;).html(&quot;&lt;h1&gt;&quot;+this.name+&quot;&lt;/h1&gt; &lt;p&gt; year &quot;+this.year+&quot;&lt;/p&gt; &lt;p&gt;&quot;+this.description+&quot;&lt;/p&gt;&quot;).css({&quot;top&quot;: this.getCssPosition().y-$(&quot;#info-card&quot;).outerHeight()+&quot;px&quot;, &quot;left&quot;: this.getCssPosition().x+&quot;px&quot;}).fadeIn();
		
		$(&quot;canvas&quot;).click(function(e){
			// console.log(&quot;clicked outside of canvas&quot;, e.target);
			$(&quot;#info-card&quot;).fadeOut();
			$(&quot;canvas&quot;).off(&quot;click&quot;);
		});

		clickOnPossibility = new CustomEvent(
			&quot;clickedOnPossibility&quot;, 
			{
				detail: {
					message: &quot;clickedOnPossibility&quot;,
					time: new Date(),
					target: this
				},
				bubbles: true,
				cancelable: true
			}
		);
		$(&quot;#info-card&quot;)[0].dispatchEvent(clickOnPossibility,this);
		console.log(&#x27;you clicks Possibility :&#x27;, this);
		return this;
}





/**	
	* This is the actual contructor for the Possibility
	* for some reason the DomEvent listener did not work properly when placed inside
	* the Possibility class. 
	*
	* @method createFutureScenario
	* @return {Possibility} the possibility just created
	*/
function createFutureScenario(){
	switch(arguments.length){
				case 0 :
            madeByUser();
            break;
        case 1 :
        		madeByUserUsingCode(arguments[0]);
            break;
        default:
        		madeByComputer(arguments[0],arguments[1],arguments[2], arguments[3]);
        		break;
	}
	function madeByUser(){
		
		if($(&#x27;body&#x27;).find(&quot;#create-possibility&quot;).length === 0){
			// console.log(&quot;dfsa&quot;, $(&#x27;body&#x27;).find(&quot;#info-card&quot;));
						$(&#x27;&lt;div id=&quot;create-possibility&quot;&gt;&lt;fieldset&gt;&lt;legend&gt;Create new Possibility&lt;/legend&gt;&lt;form&gt;&lt;input name=&quot;name&quot; id=&quot;pos-name&quot;type=&quot;text&quot; placeholder=&quot;Name&quot;&gt;&lt;/form&gt;&lt;form&gt;&lt;input name=&quot;description&quot; type=&quot;text&quot; placeholder=&quot;Description&quot;&gt;&lt;/form&gt;&lt;form&gt;&lt;label name=&quot;year&quot; for=&quot;position&quot;&gt; Year &lt;/label&gt;&lt;input name=&quot;position&quot; type=&quot;number&quot; &gt;&lt;/form&gt;         &lt;form&gt;&lt;label for=&quot;quad&quot; &gt;Select list&lt;/label&gt;&lt;select name=&quot;quad&quot; id=&quot;myList&quot;&gt;&lt;option value = &quot;1&quot;&gt;one&lt;/option&gt;&lt;option value = &quot;2&quot;&gt;two&lt;/option&gt;&lt;option value = &quot;3&quot;&gt;three&lt;/option&gt;&lt;option value = &quot;4&quot;&gt;four&lt;/option&gt;&lt;/select&gt;&lt;/form&gt;&lt;form&gt;&lt;label for=&quot;quad&quot; &gt;Select shape&lt;/label&gt;&lt;select name=&quot;shape&quot; id=&quot;myList&quot;&gt;&lt;option value = &quot;sphereGeometry&quot;&gt;Sphere&lt;/option&gt;&lt;option value = &quot;tetrahedronGeometry&quot;&gt;Tetrahedron&lt;/option&gt;&lt;option value = &quot;octahedronGeometry&quot;&gt;Octahedron&lt;/option&gt;&lt;option value = &quot;icosahadronGeometry&quot;&gt;Icosahedron&lt;/option&gt;&lt;/select&gt;&lt;/form&gt;&lt;form &gt;&lt;button type=&quot;submit&quot; &gt;ddd&lt;/button&gt;  &lt;/form&gt;&lt;/fieldset&gt;&lt;/div&gt; &#x27;,{
				&quot;id&quot;: &quot;create-possibility&quot;
			}).appendTo(&quot;body&quot;);
		}

		
		$(&quot;#create-possibility&quot;).fadeIn();
		$(&quot;#create-possibility form&quot;).submit( function(e){
			e.preventDefault();
			console.log(&quot;submit&quot;, $(e.target).parent().find(&#x27;[name=&quot;position&quot;]&#x27;).val() );
			var lastPushed = all_Possibilities.push(new Possibility({
				color: 0xffffff ,
				name: $(e.target).parent().find(&#x27;[name=&quot;name&quot;]&#x27;).val(),
				description: $(e.target).parent().find(&#x27;[name=&quot;description&quot;]&#x27;).val(),
				year: $(e.target).parent().find(&#x27;[name=&quot;position&quot;]&#x27;).val(),
				shape:$(e.target).parent().find(&#x27;[name=&quot;shape&quot;]&#x27;).val(),
				radius: 1
			}));
			console.log(lastPushed,all_Possibilities)

			domEvents.addEventListener(all_Possibilities[lastPushed-1].mesh, &#x27;click&#x27;, function(event){
				all_Possibilities[lastPushed-1].showContent(event);
			});
			$(&quot;#create-possibility form&quot;).off(&quot;submit&quot;);
			$(&quot;#create-possibility&quot;).fadeOut();
		});	

	}
	function madeByUserUsingCode( parameters){
		var lastPushed = all_Possibilities.push(new Possibility({
			color:       (parameters.hasOwnProperty(&quot;color&quot;))?       parameters[&quot;color&quot;] :0x333333 ,
			name: 			 (parameters.hasOwnProperty(&quot;name&quot;))?        parameters[&quot;name&quot;] : &quot;&quot;,
			description: (parameters.hasOwnProperty(&quot;description&quot;))? parameters[&quot;description&quot;] : &quot;&quot;,
			year:        (parameters.hasOwnProperty(&quot;year&quot;))?        parameters[&quot;year&quot;] : 0,
			shape:       (parameters.hasOwnProperty(&quot;shape&quot;))?       parameters[&quot;shape&quot;] : sphereGeometry,
			radius:      (parameters.hasOwnProperty(&quot;radius&quot;))?      parameters[&quot;radius&quot;] : 1
		}));
		domEvents.addEventListener(all_Possibilities[lastPushed-1].mesh, &#x27;click&#x27;, function(event){
			all_Possibilities[lastPushed-1].showContent(event);
		});
	}

	function madeByComputer(name, size, pos, col){
		name = new Possibility( size, pos, col );
		domEvents.addEventListener(name.mesh, &#x27;click&#x27;, function(event){
			name.showContent(event);
		});
	}

	return name;
}

/**	
	* Do not event pay attention to this one I am not using it. 
	*
	* @method addMouseOver
	*/
var addMouseOver = function(_this){
	console.log(&quot;this&quot;, _this);
	try{
		domEvents.addEventListener(self.mesh, &#x27;mouseover&#x27;, function(event){
			self.showContent(event);
		}, false);
	}
	catch (e){
		// console.log(e);
		if(e.name.toString() === &quot;ReferenceError&quot;){
			domEvents   = new THREEx.DomEvents(camera, renderer.domElement)
			domEvents.addEventListener(self.mesh, &#x27;mouseover&#x27;, function(event){
				self.showContent(event);
			}, false);
		}
	}
};
    </pre>
</div>

                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<script src="../assets/vendor/prettify/prettify-min.js"></script>
<script>prettyPrint();</script>
<script src="../assets/js/yui-prettify.js"></script>
<script src="../assets/../api.js"></script>
<script src="../assets/js/api-filter.js"></script>
<script src="../assets/js/api-list.js"></script>
<script src="../assets/js/api-search.js"></script>
<script src="../assets/js/apidocs.js"></script>
</body>
</html>
